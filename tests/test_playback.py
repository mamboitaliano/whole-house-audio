# we mock subprocess and assert the command line looks right (no window, exits after play, etc).
# We also test temp file cleanup logic so you don't slowly fill the SD card.